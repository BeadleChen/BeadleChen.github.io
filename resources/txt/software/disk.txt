<h3>一. 硬盘的物理结构</h3>
<p>
　　同心轴的盘片，即所有盘片同步旋转。N盘片如果是两面，则有2N个磁头。</br>
盘片分成许多同心圆环，这些圆环称为磁道(Track)。盘片上的磁道由外向内依次从“0”开始进行编号。</br>
　　由于硬盘可以由很多盘片组成，不同盘片的相同磁道就组成了柱面(Cylinder)。</br>
　　在磁道上，又分成许多扇区(Sector)。扇区是大小相同的存储单元，且是物理硬盘的最小存储单元。</br>
扇区默认的大小是512Bytes.操作系统的文件存储单元是簇(Clusters)，是由数个扇区组成，数量取决于</br>
操作系统的文件系统,NTFS是默认是4096Bytes,FAT32(U盘)一般是8192Bytes.</br>
</p>

<h3>二. 硬盘寻址方式</h3>
<label>2.1 CHS（Cylinder/Head/Sector）</label></br>
<p>
　　CHS（Cylinder/Head/Sector）寻址模式也称为3D模式，是硬盘最早采用的寻址模式，</br>
它是在硬盘容量较小的前提下产生的。</br>
　　硬盘的C/H/S 3D参数既可以计算出硬盘的容量，也可以确定数据所在的具体位置。</br>
这是因为扇区的三维物理地址与硬盘上的物理扇区一一对应，即三维物理地址可完全确定</br>
硬盘上的物理扇区。三维物理地址通常以C/H/S的次序来书写，如C/H/S为0/1/1，则第一个</br>
数字0指0柱面，第二个数字1指1磁头（盘面），第三个数字1指1扇区，表示该数据位于硬盘</br>
1盘面上的0磁道1扇区。现在定位已完成，硬盘内部的参数和主板BIOS之间进行协议，正确发</br>
出寻址信号，从而正确定位数据位置。</br>
　　早期硬盘一个磁道上分63个扇区，物理磁头最多16个（8个盘片，盘片多了硬盘那就真要加厚了）。</br>
采用8位寻址方式，8位二进制位的最大值是256（0-255），可以表示磁头数，而扇区只有63个（1-63），</br>
只需要其中6个二进制位即可表示，剩下2位拿去表示柱面，柱面数用10(8+2)位来表达，</br>
达到1024个柱面（0-1023），因此总扇区数（1024×16×63）。前面说一个扇区大小为512byte，</br>
这也就是说，如果以C/H/S寻址模式寻址，则IDE硬盘的最大容量只能为1024×16×63×512B= 500MB左右。</br>
　　可以思考下，在8位寻址模式下，其实可以寻址的硬盘最大容量为1024×256×63×512B =8G,那为啥</br>
CHS模式硬盘只支持到500MB呢？原因很简单，我们的硬盘盘片不可能让128片盘片重叠起来吧，</br>
那会是多厚？？如果采用28位寻址方式，那么可以寻址137G，盘片也不可能一直堆叠下去。</br>

</p>

<label>2.1 LBA(Logical Block Addressing)</label></br>
<p>
　　经常去买硬盘的人都知道，目前硬盘经常都说单碟、双碟，其实意思就是说硬盘盘片只有1个或者2个，</br>
而且都只是用一面，单碟一个磁头而已，但是硬盘容量确是几百G，而且硬盘柱面往往都大于1024个柱面，</br>
CHS是无法寻址利用完这些硬盘容量的。</br>
　　另外由于老硬盘的扇区划分方式对硬盘利用率不高，因此出现了现在的等密度盘，外圈的扇区数要比</br>
内圈多，原来的3D寻址方式也就不能适应这种方式，因此也就出现了新的寻址方式LBA，这是以扇区为单位</br>
进行的线性寻址方式，即从最外圈柱面0开始，依次将扇区号编为0、1….等等，举个例子，假设硬盘有1024</br>
个柱面，由于是等密度硬盘，柱面0(最外圈)假设有128个扇区，依次编号为0-127，柱面1有120个扇区，则</br>
依次编号为127-246，…..依次最内圈柱面127只有扇区64个，则编号到最后。因此要定位到硬盘某个位置，</br>
只需要给出LBA数即可，这个就是逻辑数。</br>
　　在 LBA 模式下，为了保留原来CHS时的概念，也可以设置柱面、磁头、扇区等参数，但是他们并不是</br>
实际硬盘的物理参数，只是为了计算方便而出的一个概念，1023之前的柱面号都一一物理对应，而1023以</br>
后的所有柱面号都记录成1023磁头最大数可以设置为255，而扇区数一般是每磁道63个，硬盘控制器会把由</br>
柱面、磁头、扇区等参数确定的地址转换为LBA数。这里我们再此明确两个概念:</br>
　　<b>物理扇区号</b>：</br>
　　　　一般我们称CHS模式下的扇区号为物理扇区号，扇区编号开始位置是1</br>
　　<b>逻辑扇区号</b>：</br>
　　　　LBA下的编号，扇区编号是从0开始。</br>
　　　　CHS模式转换到逻辑扇区号LBA</br>
　　<b>计算公式</b></br>
　　LBA(逻辑扇区号)=磁头数 × 每磁道扇区数 × 当前所在柱面号 + 每磁道扇区数 × 当前所在磁头号 + 当前所在扇区号 – 1</br>
例如：CHS=0/0/1，则根据公式LBA=255 × 63 × 0 + 63 × 0 + 1 – 1= 0</br>
也就是说物理0柱面0磁头1扇区，是逻辑0扇区。</br>
</p>